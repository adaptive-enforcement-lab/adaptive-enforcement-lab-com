---
repos:
  - repo: https://github.com/igorshubovych/markdownlint-cli
    rev: v0.43.0
    hooks:
      - id: markdownlint
        args: ["--config", ".markdownlint.yml"]
        files: \.md$
        exclude: ^CHANGELOG\.md$
  - repo: https://github.com/adaptive-enforcement-lab/readability
    rev: "0"
    hooks:
      - id: readability-docs
        name: check documentation readability
  - repo: local
    hooks:
      - id: check-forbidden-tech
        name: block forbidden technologies
        entry: scripts/check-forbidden-tech.sh
        language: script
        files: \.(md|yaml|yml|sh|tf|Dockerfile|Containerfile)$
        pass_filenames: true
      - id: check-markdown-length
        name: check markdown length
        entry: scripts/check-markdown-length.sh
        language: script
        files: \.md$
        exclude: ^(CHANGELOG|CONTRIBUTING)\.md$
      - id: mkdocs-build
        name: mkdocs build
        entry: bash -c 'if [ -f .venv/bin/mkdocs ]; then .venv/bin/mkdocs build --strict; else mkdocs build --strict; fi'
        language: system
        pass_filenames: false
        files: \.(md|yml|yaml)$
