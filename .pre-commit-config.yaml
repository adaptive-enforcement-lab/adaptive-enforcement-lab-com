---
repos:
  - repo: https://github.com/igorshubovych/markdownlint-cli
    rev: v0.43.0
    hooks:
      - id: markdownlint
        args: ["--config", ".markdownlint.yml"]
        files: \.md$
        exclude: ^tools/
  - repo: local
    hooks:
      - id: check-markdown-length
        name: check markdown length
        entry: scripts/check-markdown-length.sh
        language: script
        files: \.md$
        exclude: ^(CHANGELOG|CONTRIBUTING)\.md$|^tools/
      - id: content-analyzer
        name: check documentation readability
        entry: bash -c 'cd tools/content-analyzer && go run ./cmd/content-analyzer --check --config ../../.content-analyzer.yml ../../docs/'
        language: system
        files: ^docs/.*\.md$
        pass_filenames: false
      - id: mkdocs-build
        name: mkdocs build
        entry: bash -c 'if [ -f .venv/bin/mkdocs ]; then .venv/bin/mkdocs build --strict; else mkdocs build --strict; fi'
        language: system
        pass_filenames: false
        files: \.(md|yml|yaml)$
